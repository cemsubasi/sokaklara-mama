{"ast":null,"code":"import { axi } from \"../../utils/config\";\n\nfunction submitWater({\n  locationState,\n  waterTime,\n  setWaterTime,\n  ref,\n  setWaterListOfCities,\n  waterListOfCities\n}) {\n  setTimeout(() => {\n    setWaterTime(false);\n  }, 15000);\n  const arg = {\n    id: Date.now(),\n    lat: locationState.lat,\n    lng: locationState.lng,\n    info: ref.current.value,\n    token: localStorage.getItem(\"token\")\n  };\n  if (waterTime) return alert(\"You cannot send request immediately\");\n  setWaterTime(true);\n  return axi(\"post\", \"/water\", arg).then(res => {\n    if (res.status === \"accepted\") {\n      ref.current.value = \"\";\n      return setWaterListOfCities([...waterListOfCities, res.response]);\n    }\n\n    alert(res.info);\n  }).catch(err => console.log(\"submit error\", err));\n}\n\nexport default submitWater;","map":{"version":3,"sources":["/home/cem/projects/streets/client/src/components/homepage/submitWater.js"],"names":["axi","submitWater","locationState","waterTime","setWaterTime","ref","setWaterListOfCities","waterListOfCities","setTimeout","arg","id","Date","now","lat","lng","info","current","value","token","localStorage","getItem","alert","then","res","status","response","catch","err","console","log"],"mappings":"AAAA,SAASA,GAAT,QAAoB,oBAApB;;AAEA,SAASC,WAAT,CAAqB;AACpBC,EAAAA,aADoB;AAEpBC,EAAAA,SAFoB;AAGpBC,EAAAA,YAHoB;AAIpBC,EAAAA,GAJoB;AAKpBC,EAAAA,oBALoB;AAMpBC,EAAAA;AANoB,CAArB,EAOG;AACFC,EAAAA,UAAU,CAAC,MAAM;AAChBJ,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACA,GAFS,EAEP,KAFO,CAAV;AAGA,QAAMK,GAAG,GAAG;AACXC,IAAAA,EAAE,EAAEC,IAAI,CAACC,GAAL,EADO;AAEXC,IAAAA,GAAG,EAAEX,aAAa,CAACW,GAFR;AAGXC,IAAAA,GAAG,EAAEZ,aAAa,CAACY,GAHR;AAIXC,IAAAA,IAAI,EAAEV,GAAG,CAACW,OAAJ,CAAYC,KAJP;AAKXC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AALI,GAAZ;AAOA,MAAIjB,SAAJ,EAAe,OAAOkB,KAAK,CAAC,qCAAD,CAAZ;AACfjB,EAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,SAAOJ,GAAG,CAAC,MAAD,EAAS,QAAT,EAAmBS,GAAnB,CAAH,CACLa,IADK,CACCC,GAAD,IAAS;AACd,QAAIA,GAAG,CAACC,MAAJ,KAAe,UAAnB,EAA+B;AAC9BnB,MAAAA,GAAG,CAACW,OAAJ,CAAYC,KAAZ,GAAoB,EAApB;AACA,aAAOX,oBAAoB,CAAC,CAAC,GAAGC,iBAAJ,EAAuBgB,GAAG,CAACE,QAA3B,CAAD,CAA3B;AACA;;AACDJ,IAAAA,KAAK,CAACE,GAAG,CAACR,IAAL,CAAL;AACA,GAPK,EAQLW,KARK,CAQEC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,GAA5B,CARV,CAAP;AASA;;AAED,eAAe1B,WAAf","sourcesContent":["import { axi } from \"../../utils/config\";\n\nfunction submitWater({\n\tlocationState,\n\twaterTime,\n\tsetWaterTime,\n\tref,\n\tsetWaterListOfCities,\n\twaterListOfCities,\n}) {\n\tsetTimeout(() => {\n\t\tsetWaterTime(false);\n\t}, 15000);\n\tconst arg = {\n\t\tid: Date.now(),\n\t\tlat: locationState.lat,\n\t\tlng: locationState.lng,\n\t\tinfo: ref.current.value,\n\t\ttoken: localStorage.getItem(\"token\"),\n\t};\n\tif (waterTime) return alert(\"You cannot send request immediately\");\n\tsetWaterTime(true);\n\treturn axi(\"post\", \"/water\", arg)\n\t\t.then((res) => {\n\t\t\tif (res.status === \"accepted\") {\n\t\t\t\tref.current.value = \"\";\n\t\t\t\treturn setWaterListOfCities([...waterListOfCities, res.response]);\n\t\t\t}\n\t\t\talert(res.info);\n\t\t})\n\t\t.catch((err) => console.log(\"submit error\", err));\n}\n\nexport default submitWater;\n"]},"metadata":{},"sourceType":"module"}