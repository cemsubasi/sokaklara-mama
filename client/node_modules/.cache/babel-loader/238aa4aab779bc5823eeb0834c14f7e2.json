{"ast":null,"code":"import { axi } from \"../../utils/config\";\nconst submitWaterArgs = {\n  locationState,\n  waterTime,\n  setWaterTime,\n  ref,\n  setWaterListOfCities,\n  waterListOfCities\n};\n\nfunction submitWater({ ...submitWaterArgs\n}) {\n  setTimeout(() => {\n    setWaterTime(false);\n  }, 15000);\n  const arg = {\n    id: Date.now(),\n    lat: locationState.lat,\n    lng: locationState.lng,\n    info: ref.current.value,\n    token: localStorage.getItem(\"token\")\n  };\n  if (waterTime) return alert(\"You cannot send request immediately\");\n  setWaterTime(true);\n  return axi(\"post\", \"/water\", arg).then(res => {\n    if (res.status === \"accepted\") {\n      ref.current.value = \"\";\n      return setWaterListOfCities([...waterListOfCities, res.response]);\n    }\n\n    alert(res.info);\n  }).catch(err => console.log(\"submit error\", err));\n}\n\nexport default submitWater;","map":{"version":3,"sources":["/home/cem/projects/streets/client/src/components/homepage/submitWater.js"],"names":["axi","submitWaterArgs","locationState","waterTime","setWaterTime","ref","setWaterListOfCities","waterListOfCities","submitWater","setTimeout","arg","id","Date","now","lat","lng","info","current","value","token","localStorage","getItem","alert","then","res","status","response","catch","err","console","log"],"mappings":"AAAA,SAASA,GAAT,QAAoB,oBAApB;AAEA,MAAMC,eAAe,GAAG;AACvBC,EAAAA,aADuB;AAEvBC,EAAAA,SAFuB;AAGvBC,EAAAA,YAHuB;AAIvBC,EAAAA,GAJuB;AAKvBC,EAAAA,oBALuB;AAMvBC,EAAAA;AANuB,CAAxB;;AASA,SAASC,WAAT,CAAqB,EAAE,GAAGP;AAAL,CAArB,EAA6C;AAC5CQ,EAAAA,UAAU,CAAC,MAAM;AAChBL,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACA,GAFS,EAEP,KAFO,CAAV;AAGA,QAAMM,GAAG,GAAG;AACXC,IAAAA,EAAE,EAAEC,IAAI,CAACC,GAAL,EADO;AAEXC,IAAAA,GAAG,EAAEZ,aAAa,CAACY,GAFR;AAGXC,IAAAA,GAAG,EAAEb,aAAa,CAACa,GAHR;AAIXC,IAAAA,IAAI,EAAEX,GAAG,CAACY,OAAJ,CAAYC,KAJP;AAKXC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AALI,GAAZ;AAOA,MAAIlB,SAAJ,EAAe,OAAOmB,KAAK,CAAC,qCAAD,CAAZ;AACflB,EAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,SAAOJ,GAAG,CAAC,MAAD,EAAS,QAAT,EAAmBU,GAAnB,CAAH,CACLa,IADK,CACCC,GAAD,IAAS;AACd,QAAIA,GAAG,CAACC,MAAJ,KAAe,UAAnB,EAA+B;AAC9BpB,MAAAA,GAAG,CAACY,OAAJ,CAAYC,KAAZ,GAAoB,EAApB;AACA,aAAOZ,oBAAoB,CAAC,CAAC,GAAGC,iBAAJ,EAAuBiB,GAAG,CAACE,QAA3B,CAAD,CAA3B;AACA;;AACDJ,IAAAA,KAAK,CAACE,GAAG,CAACR,IAAL,CAAL;AACA,GAPK,EAQLW,KARK,CAQEC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,GAA5B,CARV,CAAP;AASA;;AAED,eAAepB,WAAf","sourcesContent":["import { axi } from \"../../utils/config\";\n\nconst submitWaterArgs = {\n\tlocationState,\n\twaterTime,\n\tsetWaterTime,\n\tref,\n\tsetWaterListOfCities,\n\twaterListOfCities,\n};\n\nfunction submitWater({ ...submitWaterArgs }) {\n\tsetTimeout(() => {\n\t\tsetWaterTime(false);\n\t}, 15000);\n\tconst arg = {\n\t\tid: Date.now(),\n\t\tlat: locationState.lat,\n\t\tlng: locationState.lng,\n\t\tinfo: ref.current.value,\n\t\ttoken: localStorage.getItem(\"token\"),\n\t};\n\tif (waterTime) return alert(\"You cannot send request immediately\");\n\tsetWaterTime(true);\n\treturn axi(\"post\", \"/water\", arg)\n\t\t.then((res) => {\n\t\t\tif (res.status === \"accepted\") {\n\t\t\t\tref.current.value = \"\";\n\t\t\t\treturn setWaterListOfCities([...waterListOfCities, res.response]);\n\t\t\t}\n\t\t\talert(res.info);\n\t\t})\n\t\t.catch((err) => console.log(\"submit error\", err));\n}\n\nexport default submitWater;\n"]},"metadata":{},"sourceType":"module"}