{"ast":null,"code":"var _jsxFileName = \"/home/cem/projects/streets/client/src/components/map/MapContainer.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport Map from \"./Map\";\nimport { axi } from \"../../utils/config\";\nimport Header from \"../../common/Header\";\nimport styles from \"./home.module.css\";\nimport food from \"../../images/food-bowl.svg\";\nimport water from \"../../images/water-bowl.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MapContainer(props) {\n  _s();\n\n  const [cityList, setCityList] = useState({\n    food: [],\n    water: []\n  });\n  const [initLocation, setInitLocation] = useState({\n    lat: 0,\n    lng: 0\n  });\n  const [locationState, setLocationState] = useState({\n    lat: 0,\n    lng: 0\n  });\n  const [foodTime, setFoodTime] = useState(false);\n  const [waterTime, setWaterTime] = useState(false);\n  const ref = useRef(\"\");\n  const id = useRef(0);\n  useEffect(() => {\n    if (navigator.userAgent.toLowerCase().includes(\"android\") && navigator.userAgent.toLowerCase().includes(\"firefox\")) alert(\"firefox mobile browser has a geolocation service issue, please use other browsers to avoid location issues\");\n  }, []);\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(l => {\n      setInitLocation({\n        lat: l.coords.latitude,\n        lng: l.coords.longitude\n      });\n      setLocationState({\n        lat: l.coords.latitude,\n        lng: l.coords.longitude\n      });\n    }, err => console.log(\"getCurrentPosition error occour \", err), {\n      timeout: 15000\n    });\n    id.current = navigator.geolocation.watchPosition(l => {\n      setLocationState({\n        lat: l.coords.latitude,\n        lng: l.coords.longitude\n      });\n    }, err => console.log(\"watchPosition error occour \", err), {\n      timeout: 15000\n    });\n    return () => {\n      navigator.geolocation.clearWatch(id.current);\n    };\n  }, //eslint-disable-next-line\n  []);\n\n  const submitFood = () => {\n    setTimeout(() => {\n      setFoodTime(false);\n    }, 15000);\n    const arg = {\n      id: Date.now(),\n      lat: locationState.lat,\n      lng: locationState.lng,\n      info: ref.current.value,\n      token: localStorage.getItem(\"token\")\n    };\n    if (time) return alert(\"You cannot send request immediately\");\n    setFoodTime(true);\n    return axi(\"post\", \"/food\", arg).then(res => {\n      if (res.status === \"accepted\") {\n        ref.current.value = \"\";\n        return setCityList({ ...cityList,\n          food: [...cityList.food, res.response]\n        });\n      }\n\n      alert(res.info);\n    }).catch(err => console.log(\"submit error\", err));\n  };\n\n  const submitWater = () => {\n    setTimeout(() => {\n      setWaterTime(false);\n    }, 15000);\n    const arg = {\n      id: Date.now(),\n      lat: locationState.lat,\n      lng: locationState.lng,\n      info: ref.current.value,\n      token: localStorage.getItem(\"token\")\n    };\n    if (time) return alert(\"You cannot send request immediately\");\n    setWaterTime(true);\n    return axi(\"post\", \"/water\", arg).then(res => {\n      if (res.status === \"accepted\") {\n        ref.current.value = \"\";\n        return setCityList({ ...cityList,\n          water: [...cityList.water, res.response]\n        });\n      }\n\n      alert(res.info);\n    }).catch(err => console.log(\"submit error\", err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.header,\n      children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.mapGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.mapContainer,\n        children: /*#__PURE__*/_jsxDEV(Map, {\n          initLocation: initLocation,\n          cityList: cityList,\n          apiKey: process.env.REACT_APP_APIKEY,\n          setCityList: setCityList,\n          locationState: locationState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }, this), props.isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.form,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.inputGroup,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"info\",\n            placeholder: \"info (optional)\",\n            ref: ref\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: submitFood,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: food,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"food\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: submitWater,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: water,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 9\n            }, this), \"water\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 3\n  }, this);\n}\n\n_s(MapContainer, \"f2MluzrYmN3gERg1yRZN/NxwDkY=\");\n\n_c = MapContainer;\n\nconst mapStateToProps = state => {\n  return {\n    isLogin: state.isLogin\n  };\n};\n\nexport default connect(mapStateToProps)(MapContainer);\n\nvar _c;\n\n$RefreshReg$(_c, \"MapContainer\");","map":{"version":3,"sources":["/home/cem/projects/streets/client/src/components/map/MapContainer.js"],"names":["useState","useEffect","useRef","connect","Map","axi","Header","styles","MapContainer","props","cityList","setCityList","food","water","initLocation","setInitLocation","lat","lng","locationState","setLocationState","foodTime","setFoodTime","waterTime","setWaterTime","ref","id","navigator","userAgent","toLowerCase","includes","alert","geolocation","getCurrentPosition","l","coords","latitude","longitude","err","console","log","timeout","current","watchPosition","clearWatch","submitFood","setTimeout","arg","Date","now","info","value","token","localStorage","getItem","time","then","res","status","response","catch","submitWater","container","header","mapGroup","mapContainer","process","env","REACT_APP_APIKEY","isLogin","form","inputGroup","buttonGroup","mapStateToProps","state"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport Map from \"./Map\";\nimport { axi } from \"../../utils/config\";\nimport Header from \"../../common/Header\";\nimport styles from \"./home.module.css\";\nimport food from \"../../images/food-bowl.svg\";\nimport water from \"../../images/water-bowl.svg\";\n\nfunction MapContainer(props) {\n\tconst [cityList, setCityList] = useState({ food: [], water: [] });\n\tconst [initLocation, setInitLocation] = useState({ lat: 0, lng: 0 });\n\tconst [locationState, setLocationState] = useState({ lat: 0, lng: 0 });\n\tconst [foodTime, setFoodTime] = useState(false);\n\tconst [waterTime, setWaterTime] = useState(false);\n\tconst ref = useRef(\"\");\n\tconst id = useRef(0);\n\tuseEffect(() => {\n\t\tif (\n\t\t\tnavigator.userAgent.toLowerCase().includes(\"android\") &&\n\t\t\tnavigator.userAgent.toLowerCase().includes(\"firefox\")\n\t\t)\n\t\t\talert(\n\t\t\t\t\"firefox mobile browser has a geolocation service issue, please use other browsers to avoid location issues\"\n\t\t\t);\n\t}, []);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t\t(l) => {\n\t\t\t\t\tsetInitLocation({ lat: l.coords.latitude, lng: l.coords.longitude });\n\t\t\t\t\tsetLocationState({ lat: l.coords.latitude, lng: l.coords.longitude });\n\t\t\t\t},\n\t\t\t\t(err) => console.log(\"getCurrentPosition error occour \", err),\n\t\t\t\t{ timeout: 15000 }\n\t\t\t);\n\t\t\tid.current = navigator.geolocation.watchPosition(\n\t\t\t\t(l) => {\n\t\t\t\t\tsetLocationState({\n\t\t\t\t\t\tlat: l.coords.latitude,\n\t\t\t\t\t\tlng: l.coords.longitude,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t(err) => console.log(\"watchPosition error occour \", err),\n\t\t\t\t{ timeout: 15000 }\n\t\t\t);\n\t\t\treturn () => {\n\t\t\t\tnavigator.geolocation.clearWatch(id.current);\n\t\t\t};\n\t\t},\n\t\t//eslint-disable-next-line\n\t\t[]\n\t);\n\n\tconst submitFood = () => {\n\t\tsetTimeout(() => {\n\t\t\tsetFoodTime(false);\n\t\t}, 15000);\n\t\tconst arg = {\n\t\t\tid: Date.now(),\n\t\t\tlat: locationState.lat,\n\t\t\tlng: locationState.lng,\n\t\t\tinfo: ref.current.value,\n\t\t\ttoken: localStorage.getItem(\"token\"),\n\t\t};\n\t\tif (time) return alert(\"You cannot send request immediately\");\n\t\tsetFoodTime(true);\n\t\treturn axi(\"post\", \"/food\", arg)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.status === \"accepted\") {\n\t\t\t\t\tref.current.value = \"\";\n\t\t\t\t\treturn setCityList({\n\t\t\t\t\t\t...cityList,\n\t\t\t\t\t\tfood: [...cityList.food, res.response],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\talert(res.info);\n\t\t\t})\n\t\t\t.catch((err) => console.log(\"submit error\", err));\n\t};\n\n\tconst submitWater = () => {\n\t\tsetTimeout(() => {\n\t\t\tsetWaterTime(false);\n\t\t}, 15000);\n\t\tconst arg = {\n\t\t\tid: Date.now(),\n\t\t\tlat: locationState.lat,\n\t\t\tlng: locationState.lng,\n\t\t\tinfo: ref.current.value,\n\t\t\ttoken: localStorage.getItem(\"token\"),\n\t\t};\n\t\tif (time) return alert(\"You cannot send request immediately\");\n\t\tsetWaterTime(true);\n\t\treturn axi(\"post\", \"/water\", arg)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.status === \"accepted\") {\n\t\t\t\t\tref.current.value = \"\";\n\t\t\t\t\treturn setCityList({\n\t\t\t\t\t\t...cityList,\n\t\t\t\t\t\twater: [...cityList.water, res.response],\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\talert(res.info);\n\t\t\t})\n\t\t\t.catch((err) => console.log(\"submit error\", err));\n\t};\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<div className={styles.header}>\n\t\t\t\t<Header />\n\t\t\t</div>\n\t\t\t<div className={styles.mapGroup}>\n\t\t\t\t<div className={styles.mapContainer}>\n\t\t\t\t\t<Map\n\t\t\t\t\t\tinitLocation={initLocation}\n\t\t\t\t\t\tcityList={cityList}\n\t\t\t\t\t\tapiKey={process.env.REACT_APP_APIKEY}\n\t\t\t\t\t\tsetCityList={setCityList}\n\t\t\t\t\t\tlocationState={locationState}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{props.isLogin && (\n\t\t\t\t\t<div className={styles.form}>\n\t\t\t\t\t\t<div className={styles.inputGroup}>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"info\"\n\t\t\t\t\t\t\t\tplaceholder=\"info (optional)\"\n\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.buttonGroup}>\n\t\t\t\t\t\t\t<button onClick={submitFood}>\n\t\t\t\t\t\t\t\t<img src={food} alt=\"\" />\n\t\t\t\t\t\t\t\t<p>food</p>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={submitWater}>\n\t\t\t\t\t\t\t\t<img src={water} alt=\"\" />\n\t\t\t\t\t\t\t\twater\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisLogin: state.isLogin,\n\t};\n};\n\nexport default connect(mapStateToProps)(MapContainer);\n"]},"metadata":{},"sourceType":"module"}