{"ast":null,"code":"import { axi } from \"../../../utils/config\";\n\nfunction submitFood({\n  locationState,\n  foodTime,\n  setFoodTime,\n  ref,\n  setFoodListOfCities,\n  foodListOfCities\n}) {\n  setTimeout(() => {\n    setFoodTime(false);\n  }, 15000);\n  const arg = {\n    id: Date.now(),\n    lat: locationState.lat,\n    lng: locationState.lng,\n    info: ref.current.value,\n    token: localStorage.getItem(\"token\")\n  };\n  if (foodTime) return alert(\"You cannot send request immediately\");\n  setFoodTime(true);\n  return axi(\"post\", \"/food\", arg).then(res => {\n    if (res.status === \"accepted\") {\n      ref.current.value = \"\";\n      console.log(\"res.response\", res.response);\n      return setFoodListOfCities([...foodListOfCities, res.response]);\n    }\n\n    alert(res.info);\n  }).catch(err => console.log(\"submit error\", err));\n}\n\nexport default submitFood;","map":{"version":3,"sources":["/home/cem/projects/streets/client/src/components/homepage/map/submitFood.js"],"names":["axi","submitFood","locationState","foodTime","setFoodTime","ref","setFoodListOfCities","foodListOfCities","setTimeout","arg","id","Date","now","lat","lng","info","current","value","token","localStorage","getItem","alert","then","res","status","console","log","response","catch","err"],"mappings":"AAAA,SAASA,GAAT,QAAoB,uBAApB;;AAEA,SAASC,UAAT,CAAoB;AACnBC,EAAAA,aADmB;AAEnBC,EAAAA,QAFmB;AAGnBC,EAAAA,WAHmB;AAInBC,EAAAA,GAJmB;AAKnBC,EAAAA,mBALmB;AAMnBC,EAAAA;AANmB,CAApB,EAOG;AACFC,EAAAA,UAAU,CAAC,MAAM;AAChBJ,IAAAA,WAAW,CAAC,KAAD,CAAX;AACA,GAFS,EAEP,KAFO,CAAV;AAGA,QAAMK,GAAG,GAAG;AACXC,IAAAA,EAAE,EAAEC,IAAI,CAACC,GAAL,EADO;AAEXC,IAAAA,GAAG,EAAEX,aAAa,CAACW,GAFR;AAGXC,IAAAA,GAAG,EAAEZ,aAAa,CAACY,GAHR;AAIXC,IAAAA,IAAI,EAAEV,GAAG,CAACW,OAAJ,CAAYC,KAJP;AAKXC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AALI,GAAZ;AAOA,MAAIjB,QAAJ,EAAc,OAAOkB,KAAK,CAAC,qCAAD,CAAZ;AACdjB,EAAAA,WAAW,CAAC,IAAD,CAAX;AACA,SAAOJ,GAAG,CAAC,MAAD,EAAS,OAAT,EAAkBS,GAAlB,CAAH,CACLa,IADK,CACCC,GAAD,IAAS;AACd,QAAIA,GAAG,CAACC,MAAJ,KAAe,UAAnB,EAA+B;AAC9BnB,MAAAA,GAAG,CAACW,OAAJ,CAAYC,KAAZ,GAAoB,EAApB;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BH,GAAG,CAACI,QAAhC;AACA,aAAOrB,mBAAmB,CAAC,CAAC,GAAGC,gBAAJ,EAAsBgB,GAAG,CAACI,QAA1B,CAAD,CAA1B;AACA;;AACDN,IAAAA,KAAK,CAACE,GAAG,CAACR,IAAL,CAAL;AACA,GARK,EASLa,KATK,CASEC,GAAD,IAASJ,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BG,GAA5B,CATV,CAAP;AAUA;;AAED,eAAe5B,UAAf","sourcesContent":["import { axi } from \"../../../utils/config\";\n\nfunction submitFood({\n\tlocationState,\n\tfoodTime,\n\tsetFoodTime,\n\tref,\n\tsetFoodListOfCities,\n\tfoodListOfCities,\n}) {\n\tsetTimeout(() => {\n\t\tsetFoodTime(false);\n\t}, 15000);\n\tconst arg = {\n\t\tid: Date.now(),\n\t\tlat: locationState.lat,\n\t\tlng: locationState.lng,\n\t\tinfo: ref.current.value,\n\t\ttoken: localStorage.getItem(\"token\"),\n\t};\n\tif (foodTime) return alert(\"You cannot send request immediately\");\n\tsetFoodTime(true);\n\treturn axi(\"post\", \"/food\", arg)\n\t\t.then((res) => {\n\t\t\tif (res.status === \"accepted\") {\n\t\t\t\tref.current.value = \"\";\n\t\t\t\tconsole.log(\"res.response\", res.response);\n\t\t\t\treturn setFoodListOfCities([...foodListOfCities, res.response]);\n\t\t\t}\n\t\t\talert(res.info);\n\t\t})\n\t\t.catch((err) => console.log(\"submit error\", err));\n}\n\nexport default submitFood;\n"]},"metadata":{},"sourceType":"module"}