{"version":3,"sources":["common/Header.js","utils/config.js","images/xxx.png","components/map/circle.js","components/map/marker.js","images/mylocation-sprite-1x.png","components/map/Map.js","images/button-gray.png","components/map/MapContainer.js","components/homepage/HomePage.js","components/signuppage/SignupPage.js","components/loginpage/loginAction.js","components/loginpage/LoginPage.js","components/logoutpage/LogoutPage.js","components/Routes.js","App.js","utils/reducer.js","reportWebVitals.js","index.js"],"names":["connect","state","isLogin","props","to","instance","axios","create","baseURL","axi","method","url","arg","Promise","resolve","reject","then","res","data","catch","err","initialState","user","deleteCircle","id","cityCircle","setMap","console","log","addCircle","map","cityList","forEach","each","window","google","maps","Circle","strokeColor","email","strokeOpacity","strokeWeight","fillColor","fillOpacity","center","lat","lng","radius","info","infowindow","InfoWindow","content","position","addListener","open","xmarker","Marker","title","icon","xicon","alert","addMarker","marker","myLatLng","current","useState","loading","setLoading","mapElement","useRef","centerElement","markerRef","useEffect","loader","Loader","apiKey","version","libraries","initLocation","load","Map","zoom","scaleControl","streetViewControl","rotateControl","mapTypeControl","controls","ControlPosition","RIGHT_BOTTOM","push","setCityList","response","setCenter","locationState","style","width","height","ref","backgroundColor","border","borderRadius","boxShadow","cursor","marginBottom","textAlign","marginRight","top","display","onClick","color","fontFamily","fontSize","lineHeight","paddingLeft","paddingRight","src","alt","setInitLocation","setLocationState","time","setTime","navigator","userAgent","toLowerCase","includes","geolocation","getCurrentPosition","l","coords","latitude","longitude","timeout","watchPosition","clearWatch","mapStyle","process","marginTop","htmlFor","type","setTimeout","Date","now","value","token","localStorage","getItem","status","HomePage","SignupPage","nameRef","passRef","emailRef","e","preventDefault","name","password","submit","setLogin","payload","setUser","setState","removeItem","setItem","Routes","exact","path","component","LoginPage","LogoutPage","reducer","action","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.60134de6.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\n// import HomePage from \"../components/HomePage\";\n// import SignupPage from \"../components/SignupPage\";\n// import LoginPage from \"../components/loginpage/LoginPage\";\n\nfunction Header(props) {\n\tif (props.isLogin)\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Link to=\"/\">HomePage</Link>\n\t\t\t\t<Link to=\"/logout\">Logout</Link>\n\t\t\t\t<br />\n\t\t\t</>\n\t\t);\n\treturn (\n\t\t<>\n\t\t\t<Link to=\"/\">HomePage</Link>\n\t\t\t<Link to=\"/signup\">SignupPage</Link>\n\t\t\t<Link to=\"/login\">LoginPage</Link>\n\t\t\t<br />\n\t\t</>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisLogin: state.isLogin,\n\t};\n};\n\nexport default connect(mapStateToProps)(Header);\n","import axios from \"axios\";\n\nconst instance = new axios.create({\n\t// baseURL: \"http://127.0.0.1:4004\",\n\tbaseURL: \"https://street-animals-server.herokuapp.com\",\n});\n\nexport const axi = (method, url, arg) => {\n\treturn new Promise((resolve, reject) => {\n\t\tinstance[method](url, arg)\n\t\t\t.then((res) => resolve(res.data))\n\t\t\t.catch((err) => reject(err));\n\t});\n};\n\nexport const initialState = {\n\tisLogin: false,\n\tuser: \"\",\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAD+klEQVR42qVWS29TRxQ+5z6M8zIOTSzSZdw2FRskFjzCBiIwD4eHYyMSmUTsYYMikURJVy1CLIiEBCuEFFlRBEpqJyFBSFAHFvwAhGSVmqZqVeqU0KZW7Th+XB/O2Lk3tm8cqDrS6M6de+b75nznnJmLsEVbOXvWyY9uROzg5y7uzeuflrlHiCjMz/uN09M/V8PAzSb/PnOmlUFv8NDDXaqwo/V3/alxDzHZwI6ZmcWPEvx1+nQfg9/hYX0FYDUCfS7JJJc+m50NVCV4f+rUEINfg//RmGS46eHD6yaC5c5OsfOxst0hFlZs6YHZht/oYvPcXMAgeOd2C81flspivXABVZcLMo8fU3piwkwgy1Rz+TIqe/ZAenycMk+eVMq12zE/v1gkOHlyknfi1REYHLZ1dRmI6dlZWBsb26BQFKjt7wd13z5jKnX7NmTC4VKtvnc8enQOYydOOCXE10a2sMsNgQApDQ2o+yvm0zMzkBIkikJ1/f2o7t9P7LVhk41GMXn1aqmEGk+34dLx48MM+l1pVuR8Pmry+1GSpMJiASR4hCeSw0GWAwdQnxf2Wi5H70dHUX3xojzriEYwduzYDzw8XJYJgqSnBxzd3bCOUbXlNQ3e3boF6rNnmxXVAv7hcsV4sBMq8lpsT2MCR08PsSfG2hKPiMHxTwG+sEBYXhP6eAnfHj2aW9ffnNNi9xzw5vPnN919bHQUFA7sFj7m8XeXKwf5vAzmykSRLbbBQbK2t2/qQSoUwsS9e6Y6MMaSpOFvLBFqmkkiBsftg4Owrb3dCGYlgbBfDQaBSUiIWklAsryEv3KQMZvtKCPgVLQPDaH14EEoyxYOqMAWMSnNLiahf+/eNROoahh/6ewclpLJb0uF2z4wADWHyxKrAC40l1taYKffb8quRCAAiYmJ8hjW1n6D0a4upxKPv2aZjEJrevCALHa7UUQMjgJcevq0uMPeXmzx+43sKsQjEsF/rlwxPGB5NLLZ2goGi273JCYSXt21/JEj9DlXq8xBFkX09uZNFOCoh4HtsLeXWvi8EsWYWV2l2MgIKq9ebRDU10+1zs+fK6yJer2tUjz+EjOZOt1CO3QI6txuSM7Ngfz8uSkVhQ15vWDduxeS4+OgFsGL3yyWJNhsu53B4KKx7o3H04crK2MstnEU54sFUvW4Fp5QhQ1LQ9DYePGLUGjjuNZb1OMZYpJrkMuVfvvUG03UDZHdPvzl9LT5wtHbT15vH8TjdzCVqoP/0KimRshy6atgsPqVqbcffb5WKZO5AYmEB9bWtr70rVaNAxoCi2WgbWrq45d+aYv4fE6ZqBvS6Q7IZnfxkVL8bZGkZVDVCIOGWfP7X09OVv1t+QB+he4vLgdhMQAAAABJRU5ErkJggg==\"","import { axi } from \"../../utils/config\";\nimport xicon from \"../../images/xxx.png\";\n\nfunction deleteCircle(id, cityCircle) {\n\tconst arg = { id: id };\n\treturn axi(\"delete\", \"/\", { data: arg })\n\t\t.then((res) => {\n\t\t\tcityCircle.setMap(null);\n\t\t})\n\t\t.catch(console.log);\n}\n\nfunction addCircle(map, cityList, user = \" \") {\n\tcityList.forEach((each) => {\n\t\tconst cityCircle = new window.google.maps.Circle({\n\t\t\tstrokeColor: user === each.email ? \"purple\" : \"green\",\n\t\t\tstrokeOpacity: 0.8,\n\t\t\tstrokeWeight: 1,\n\t\t\tfillColor: \"green\",\n\t\t\tfillOpacity: 0.35,\n\t\t\tmap,\n\t\t\tcenter: { lat: each.lat, lng: each.lng },\n\t\t\tradius: 100,\n\t\t});\n\t\tif (each.info) {\n\t\t\tconst infowindow = new window.google.maps.InfoWindow({\n\t\t\t\tcontent: each.info,\n\t\t\t\tposition: { lat: each.lat, lng: each.lng },\n\t\t\t});\n\t\t\tcityCircle.addListener(\"click\", () => {\n\t\t\t\tinfowindow.open(map, cityCircle);\n\t\t\t});\n\t\t}\n\t\tif (each.email === user) {\n\t\t\tcityCircle.addListener(\"click\", () => {\n\t\t\t\tconst xmarker = new window.google.maps.Marker({\n\t\t\t\t\tposition: { lat: each.lat + 0.00065, lng: each.lng + 0.00065 },\n\t\t\t\t\tmap,\n\t\t\t\t\ttitle: \"undo circle\",\n\t\t\t\t\ticon: xicon,\n\t\t\t\t});\n\t\t\t\txmarker.addListener(\"click\", () => {\n\t\t\t\t\talert(\"Deleted\");\n\t\t\t\t\tdeleteCircle(each.id, cityCircle);\n\t\t\t\t\txmarker.setMap(null);\n\t\t\t\t});\n\t\t\t\tmap.addListener(\"dragstart\", () => {\n\t\t\t\t\txmarker.setMap(null);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t});\n}\n\nexport default addCircle;\n","import icon from \"../../images/mylocation-sprite-1x.png\";\n\nfunction addMarker(marker, myLatLng, map) {\n\tmarker.current = new window.google.maps.Marker({\n\t\tposition: myLatLng,\n\t\tmap,\n\t\ttitle: \"You are here\",\n\t\ticon: icon,\n\t});\n}\n\nexport default addMarker;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAiXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjadY7LDcMwDEPvmiIjUB9L1jhFkADdoONHjl0EPfQdSEoQCNHxeZ+0DRhG1qJ7uqOwtJRXhY6JAizg4aWT5cqVpMY1k8oMnj1gz6EZfmjq3c+wCG+++y7VLofqrayg+2qUjVfyKWL5fvVnv6AL9Ags2Tki1IsAAAoCaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iMTgiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSIxOCIKICAgdGlmZjpJbWFnZVdpZHRoPSIxOCIKICAgdGlmZjpJbWFnZUhlaWdodD0iMTgiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiLz4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pp/dkwwAAAAEc0JJVAgICAh8CGSIAAABWklEQVQ4y63Tv0tbURQH8E9KMyaFKB2DAcW6i/4FXdK1g9pis3QT6lKI4Oigm1OnFtqhPxwzOro4uIh0CF0fAUmwb9HJZ7FDTyENyUsKuXB4l+/53u8793vuYUqrsPauk0tI0uxjbBt5vAfTqujhiCpK2MY6ngS8gq84xPXYipI0W8QFmjjBq4iTwC6wmCuUpFkZx7jBErbwPWIrsJvglPMqeosZ1PEIbZxHtAOrYza4I4Ve4gO6aGGhL7cQWBfvg/uv2dHiAuZwimXUhvShFrlTvMEn3KPRX1Ehvnejutn3818DZ/5crVopNqqV4iY6WMUZLoeIXEZuJbibfx/qoEff8BolPEevL9cLrBScozyzD3Abpv4Iz55G1AJrBWd/pFC1UrzCM8zHoR0UI5qBzQfnauzQJmn2GLvYiHcFP/EFewNXnnj6P8f2xX8P7cDKJpr+JB3La0wi9BvGtVymyC4lQAAAAABJRU5ErkJggg==\"","import { Loader } from \"@googlemaps/js-api-loader\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { axi } from \"../../utils/config\";\nimport addCircle from \"./circle\";\nimport addMarker from \"./marker\";\nimport icongray from \"../../images/button-gray.png\";\n\nfunction Map(props) {\n\tconst [loading, setLoading] = useState(false);\n\tconst mapElement = useRef(null);\n\tconst centerElement = useRef(null);\n\tconst map = useRef({});\n\tconst markerRef = useRef(null);\n\tconst defaultStyle = { width: \"100vw\", height: \"100vh\" };\n\n\tuseEffect(\n\t\t() => {\n\t\t\tconst loader = new Loader({\n\t\t\t\tapiKey: props.apiKey || \"AIzaSyDit4G0bMDP54KRwVqRTzvFtFGMNPRt_mo\",\n\t\t\t\tversion: \"weekly\",\n\t\t\t\tlibraries: [\"places\"],\n\t\t\t});\n\n\t\t\tif (!props.initLocation || props.initLocation.lat === 0) return;\n\n\t\t\tloader\n\t\t\t\t.load()\n\t\t\t\t.then(() => {\n\t\t\t\t\tmap.current = new window.google.maps.Map(mapElement.current, {\n\t\t\t\t\t\tzoom: 16,\n\t\t\t\t\t\tcenter: props.initLocation,\n\t\t\t\t\t\tscaleControl: false,\n\t\t\t\t\t\tstreetViewControl: false,\n\t\t\t\t\t\trotateControl: false,\n\t\t\t\t\t\tmapTypeControl: false,\n\t\t\t\t\t});\n\t\t\t\t\tmap.current.controls[\n\t\t\t\t\t\twindow.google.maps.ControlPosition.RIGHT_BOTTOM\n\t\t\t\t\t].push(centerElement.current);\n\t\t\t\t\taddMarker(markerRef, props.initLocation, map.current);\n\t\t\t\t\taddCircle(map.current, props.cityList, props.user);\n\t\t\t\t\tsetLoading(true);\n\t\t\t\t})\n\t\t\t\t.catch(console.log)\n\t\t\t\t.then(() => {\n\t\t\t\t\taxi(\"get\", \"/\")\n\t\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\t\tprops.setCityList(res.response);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(console.log);\n\t\t\t\t})\n\t\t\t\t.catch(console.log);\n\t\t},\n\t\t//eslint-disable-next-line\n\t\t[props.initLocation]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (map.current.setCenter) {\n\t\t\t\taddCircle(map.current, props.cityList, props.user);\n\t\t\t}\n\t\t},\n\t\t//eslint-disable-next-line\n\t\t[props.cityList]\n\t);\n\n\tuseEffect(() => {\n\t\tif (markerRef.current) {\n\t\t\tmarkerRef.current.setMap(null);\n\t\t\taddMarker(markerRef, props.locationState, map.current);\n\t\t}\n\t}, [props.locationState]);\n\n\treturn (\n\t\t<div style={props.style || defaultStyle} ref={mapElement}>\n\t\t\t<div\n\t\t\t\tref={centerElement}\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: \"#fff\",\n\t\t\t\t\tborder: \"2px solid #fff\",\n\t\t\t\t\tborderRadius: \"3px\",\n\t\t\t\t\tboxShadow: \"0 2px 6px rgba(0,0,0,.3)\",\n\t\t\t\t\tcursor: \"pointer\",\n\t\t\t\t\tmarginBottom: \"22px\",\n\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\tmarginRight: \"10px\",\n\t\t\t\t\ttop: \"null\",\n\t\t\t\t\tdisplay: loading ? \"block\" : \"none\",\n\t\t\t\t}}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tmap.current.setCenter(props.locationState);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: \"rgb(25,25,25)\",\n\t\t\t\t\t\tfontFamily: \"Roboto,Arial,sans-serif\",\n\t\t\t\t\t\tfontSize: \"24px\",\n\t\t\t\t\t\tlineHeight: \"36px\",\n\t\t\t\t\t\tpaddingLeft: \"9px\",\n\t\t\t\t\t\tpaddingRight: \"9px\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img src={icongray} alt=\"\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(Map);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAiXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjadY7LDcMwDEPvmiIjUB9L1jhFkADdoONHjl0EPfQdSEoQCNHxeZ+0DRhG1qJ7uqOwtJRXhY6JAizg4aWT5cqVpMY1k8oMnj1gz6EZfmjq3c+wCG+++y7VLofqrayg+2qUjVfyKWL5fvVnv6AL9Ags2Tki1IsAAAoCaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iMTgiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSIxOCIKICAgdGlmZjpJbWFnZVdpZHRoPSIxOCIKICAgdGlmZjpJbWFnZUhlaWdodD0iMTgiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiLz4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pp/dkwwAAAAEc0JJVAgICAh8CGSIAAABX0lEQVQ4y63UvUscURQF8J+ylqvFipAiIQuKClNKivQ2pk1jImjjVgumCShIiiBM7PwDEtAiH5aWlja2QRTEShiLoJjKrRJFm1usw8y4ghcuPM4978yd8+57PFH0PURotVqbsVyo4tVer51WK2VpTx3VisAkS+v4gFlMBPwKP7GBq/ye/gKRcRxgGXuYj9wL7ADjlUJJlg5iFx1Moo3DyHZgneAMVnX0EQ3MYAjH+B15HNgMhoNbKjSHbzjHDsa6amOBneNrcO+bnWTpZozCS+xjCs2Cc2hGbR9L2MItFvoLZuq67DS7Pn6Tn8O+7jlKsvQMP/AJp3iWE/kTXX3GOzwv8+gXFlHHW1x01S4Cqwdnu8rsdfwLU0/Cs+nIZmA7wflSKnT0YuUSbzAam1YwELkc2GhwLu9d2qK7lmTpCFbDh0bAf8O/tdwvlwvlRL/H8v2jL20u/vf0Hj34jPQYd/nzVO7wvDg/AAAAAElFTkSuQmCC\"","import { useState, useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport Map from \"./Map\";\nimport { axi } from \"../../utils/config\";\n\nfunction MapContainer(props) {\n\tconst [cityList, setCityList] = useState([]);\n\tconst [initLocation, setInitLocation] = useState({ lat: 0, lng: 0 });\n\tconst [locationState, setLocationState] = useState({ lat: 0, lng: 0 });\n\tconst [time, setTime] = useState(false);\n\tconst ref = useRef(\"\");\n\tconst id = useRef(0);\n\tuseEffect(() => {\n\t\tif (\n\t\t\tnavigator.userAgent.toLowerCase().includes(\"android\") &&\n\t\t\tnavigator.userAgent.toLowerCase().includes(\"firefox\")\n\t\t)\n\t\t\talert(\n\t\t\t\t\"firefox mobile browser has a geolocation service issue, please use other browsers to avoid location issues\"\n\t\t\t);\n\t}, []);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t\t(l) => {\n\t\t\t\t\tsetInitLocation({ lat: l.coords.latitude, lng: l.coords.longitude });\n\t\t\t\t\tsetLocationState({ lat: l.coords.latitude, lng: l.coords.longitude });\n\t\t\t\t},\n\t\t\t\t(err) => console.log(\"getCurrentPosition error occour \", err),\n\t\t\t\t{ timeout: 15000 }\n\t\t\t);\n\t\t\tid.current = navigator.geolocation.watchPosition(\n\t\t\t\t(l) => {\n\t\t\t\t\tsetLocationState({\n\t\t\t\t\t\tlat: l.coords.latitude,\n\t\t\t\t\t\tlng: l.coords.longitude,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t(err) => console.log(\"watchPosition error occour \", err),\n\t\t\t\t{ timeout: 15000 }\n\t\t\t);\n\t\t\treturn () => {\n\t\t\t\tnavigator.geolocation.clearWatch(id.current);\n\t\t\t};\n\t\t},\n\t\t//eslint-disable-next-line\n\t\t[]\n\t);\n\n\tconst submit = () => {\n\t\tsetTimeout(() => {\n\t\t\tsetTime(false);\n\t\t}, 15000);\n\t\tconst arg = {\n\t\t\tid: Date.now(),\n\t\t\tlat: locationState.lat,\n\t\t\tlng: locationState.lng,\n\t\t\tinfo: ref.current.value,\n\t\t\ttoken: localStorage.getItem(\"token\"),\n\t\t};\n\t\tif (time) return alert(\"You cannot send request immediately\");\n\t\tsetTime(true);\n\t\treturn axi(\"post\", \"/\", arg)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.status === \"accepted\") {\n\t\t\t\t\tref.current.value = \"\";\n\t\t\t\t\treturn setCityList([...cityList, res.response]);\n\t\t\t\t}\n\t\t\t\talert(res.info);\n\t\t\t})\n\t\t\t.catch((err) => console.log(\"submit error\", err));\n\t};\n\n\tconst mapStyle = { width: \"100vw\", height: \"70vh\" };\n\n\tif (props.isLogin)\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Map\n\t\t\t\t\tinitLocation={initLocation}\n\t\t\t\t\tcityList={cityList}\n\t\t\t\t\tapiKey={process.env.REACT_APP_APIKEY}\n\t\t\t\t\tstyle={mapStyle}\n\t\t\t\t\tsetCityList={setCityList}\n\t\t\t\t\tlocationState={locationState}\n\t\t\t\t/>\n\t\t\t\t<div style={{ marginTop: \"15px\" }}>\n\t\t\t\t\t<label htmlFor=\"info\">add info: </label>\n\t\t\t\t\t<input type=\"text\" id=\"info\" ref={ref} />\n\t\t\t\t\t<button onClick={submit}>submit</button>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\n\treturn (\n\t\t<Map\n\t\t\tinitLocation={initLocation}\n\t\t\tcityList={cityList}\n\t\t\tapiKey={process.env.REACT_APP_APIKEY}\n\t\t\tstyle={mapStyle}\n\t\t\tsetCityList={setCityList}\n\t\t\tlocationState={locationState}\n\t\t/>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisLogin: state.isLogin,\n\t};\n};\n\nexport default connect(mapStateToProps)(MapContainer);\n","import MapContainer from \"../map/MapContainer\";\nfunction HomePage(props) {\n\treturn (\n\t\t<>\n\t\t\tHomePage\n\t\t\t<MapContainer />\n\t\t</>\n\t);\n}\n\nexport default HomePage;\n","import { useRef } from \"react\";\n\nimport { axi } from \"../../utils/config\";\n\nfunction SignupPage() {\n\tconst nameRef = useRef(\"\");\n\tconst passRef = useRef(\"\");\n\tconst emailRef = useRef(\"\");\n\n\tconst submit = (e) => {\n\t\te.preventDefault();\n\t\taxi(\"post\", \"/user/isValid\", {\n\t\t\tid: Date.now(),\n\t\t\tname: nameRef.current.value,\n\t\t\tpassword: passRef.current.value,\n\t\t\temail: emailRef.current.value,\n\t\t})\n\t\t\t.then(console.log)\n\t\t\t.catch(console.log);\n\t};\n\treturn (\n\t\t<>\n\t\t\tSignupPage\n\t\t\t<form>\n\t\t\t\t<label htmlFor=\"name\">name: </label>\n\t\t\t\t<input type=\"text\" id=\"name\" ref={nameRef} />\n\t\t\t\t<label htmlFor=\"email\">email: </label>\n\t\t\t\t<input type=\"email\" id=\"email\" ref={emailRef} />\n\t\t\t\t<label htmlFor=\"password\">password: </label>\n\t\t\t\t<input type=\"password\" id=\"password\" ref={passRef} />\n\t\t\t\t<button type=\"submit\" onClick={(e) => submit(e)}>\n\t\t\t\t\tsubmit\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</>\n\t);\n}\n\nexport default SignupPage;\n","export const setLogin = (arg) => {\n\treturn { type: \"SET_LOGIN\", payload: arg };\n};\nexport const setUser = (arg) => {\n\treturn { type: \"SET_USER\", payload: arg };\n};\n","import { useState, useRef } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport { axi } from \"../../utils/config\";\nimport { setLogin, setUser } from \"./loginAction\";\n\nfunction LoginPage(props) {\n\tconst passRef = useRef(\"\");\n\tconst emailRef = useRef(\"\");\n\t//eslint-disable-next-line\n\tconst [state, setState] = useState({});\n\n\tconst submit = (e) => {\n\t\te.preventDefault();\n\t\taxi(\"post\", \"/user/login\", {\n\t\t\tpassword: passRef.current.value,\n\t\t\temail: emailRef.current.value,\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.status === \"accepted\") {\n\t\t\t\t\tsetState(res);\n\t\t\t\t\tprops.setUser(res.response.payload.email);\n\t\t\t\t\tprops.setLogin(true);\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\t\t\tlocalStorage.setItem(\"token\", res.response.token);\n\t\t\t\t\tconsole.log(res.response.token);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(console.log);\n\t};\n\n\tif (props.isLogin) return <Redirect to=\"/\" />;\n\n\treturn (\n\t\t<>\n\t\t\tLoginPage\n\t\t\t<form>\n\t\t\t\t<label htmlFor=\"email\">email: </label>\n\t\t\t\t<input type=\"email\" id=\"email\" ref={emailRef} />\n\t\t\t\t<label htmlFor=\"password\">password: </label>\n\t\t\t\t<input type=\"password\" id=\"password\" ref={passRef} />\n\t\t\t\t<button type=\"submit\" onClick={(e) => submit(e)}>\n\t\t\t\t\tsubmit\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisLogin: state.isLogin,\n\t};\n};\n\nexport default connect(mapStateToProps, { setLogin, setUser })(LoginPage);\n","import { useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport { setLogin, setUser } from \"../loginpage/loginAction\";\n\nfunction LogoutPage(props) {\n\tuseEffect(\n\t\t() => {\n\t\t\tprops.setLogin(false);\n\t\t\treturn () => {\n\t\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\t\tprops.setUser(\"\");\n\t\t\t};\n\t\t},\n\t\t//eslint-disable-next-line\n\t\t[]\n\t);\n\tconsole.log(props.isLogin);\n\tif (!props.isLogin) return <Redirect to=\"/login\" />;\n\treturn <></>;\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tisLogin: state.isLogin,\n\t};\n};\n\nexport default connect(mapStateToProps, { setLogin, setUser })(LogoutPage);\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport Header from \"../common/Header\";\nimport HomePage from \"./homepage/HomePage\";\nimport SignupPage from \"./signuppage/SignupPage\";\nimport LoginPage from \"./loginpage/LoginPage\";\nimport LogoutPage from \"./logoutpage/LogoutPage\";\n\nfunction Routes() {\n\treturn (\n\t\t<Router>\n\t\t\t<Header />\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/\" component={HomePage} />\n\t\t\t\t<Route path=\"/signup\" component={SignupPage} />\n\t\t\t\t<Route path=\"/login\" component={LoginPage} />\n\t\t\t\t<Route path=\"/logout\" component={LogoutPage} />\n\t\t\t</Switch>\n\t\t</Router>\n\t);\n}\n\nexport default Routes;\n","import { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport Routes from \"./components/Routes\";\nimport { axi } from \"./utils/config\";\nimport { setLogin, setUser } from \"./components/loginpage/loginAction\";\n\nfunction App(props) {\n\tconst token = localStorage.getItem(\"token\") || \"token\";\n\tuseEffect(\n\t\t() => {\n\t\t\taxi(\"post\", \"/user/isLogin\", { token: token })\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res.status === \"accepted\") {\n\t\t\t\t\t\tprops.setLogin(true);\n\t\t\t\t\t\tprops.setUser(res.response.email);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(console.log);\n\t\t},\n\t\t//eslint-disable-next-line\n\t\t[]\n\t);\n\treturn <Routes />;\n}\n\nexport default connect(null, { setLogin, setUser })(App);\n","import { initialState } from \"./config\";\n\nconst reducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase \"SET_LOGIN\":\n\t\t\treturn { ...state, isLogin: action.payload };\n\t\tcase \"SET_USER\":\n\t\t\treturn { ...state, user: action.payload };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexport default reducer;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { Provider } from \"react-redux\";\nimport reducer from \"./utils/reducer\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}