(this.webpackJsonpstreets=this.webpackJsonpstreets||[]).push([[0],{40:function(g,A,I){},65:function(g,A,I){"use strict";I.r(A);var C=I(0),e=I.n(C),t=I(16),n=I.n(t),o=(I(40),I(4)),i=I(10),c=I(3),r=I(1);var s=Object(o.b)((function(g){return{isLogin:g.isLogin}}))((function(g){return g.isLogin?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(i.b,{to:"/",children:"HomePage"}),Object(r.jsx)(i.b,{to:"/logout",children:"Logout"}),Object(r.jsx)("br",{})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(i.b,{to:"/",children:"HomePage"}),Object(r.jsx)(i.b,{to:"/signup",children:"SignupPage"}),Object(r.jsx)(i.b,{to:"/login",children:"LoginPage"}),Object(r.jsx)("br",{})]})})),a=I(34),l=I(11),u=I(35),b=I(32),j=new(I.n(b).a.create)({baseURL:"https://street-animals-server.herokuapp.com"}),d=function(g,A,I){return new Promise((function(C,e){j[g](A,I).then((function(g){return C(g.data)})).catch((function(g){return e(g)}))}))},p={isLogin:!1,user:""},f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAD+klEQVR42qVWS29TRxQ+5z6M8zIOTSzSZdw2FRskFjzCBiIwD4eHYyMSmUTsYYMikURJVy1CLIiEBCuEFFlRBEpqJyFBSFAHFvwAhGSVmqZqVeqU0KZW7Th+XB/O2Lk3tm8cqDrS6M6de+b75nznnJmLsEVbOXvWyY9uROzg5y7uzeuflrlHiCjMz/uN09M/V8PAzSb/PnOmlUFv8NDDXaqwo/V3/alxDzHZwI6ZmcWPEvx1+nQfg9/hYX0FYDUCfS7JJJc+m50NVCV4f+rUEINfg//RmGS46eHD6yaC5c5OsfOxst0hFlZs6YHZht/oYvPcXMAgeOd2C81flspivXABVZcLMo8fU3piwkwgy1Rz+TIqe/ZAenycMk+eVMq12zE/v1gkOHlyknfi1REYHLZ1dRmI6dlZWBsb26BQFKjt7wd13z5jKnX7NmTC4VKtvnc8enQOYydOOCXE10a2sMsNgQApDQ2o+yvm0zMzkBIkikJ1/f2o7t9P7LVhk41GMXn1aqmEGk+34dLx48MM+l1pVuR8Pmry+1GSpMJiASR4hCeSw0GWAwdQnxf2Wi5H70dHUX3xojzriEYwduzYDzw8XJYJgqSnBxzd3bCOUbXlNQ3e3boF6rNnmxXVAv7hcsV4sBMq8lpsT2MCR08PsSfG2hKPiMHxTwG+sEBYXhP6eAnfHj2aW9ffnNNi9xzw5vPnN919bHQUFA7sFj7m8XeXKwf5vAzmykSRLbbBQbK2t2/qQSoUwsS9e6Y6MMaSpOFvLBFqmkkiBsftg4Owrb3dCGYlgbBfDQaBSUiIWklAsryEv3KQMZvtKCPgVLQPDaH14EEoyxYOqMAWMSnNLiahf+/eNROoahh/6ewclpLJb0uF2z4wADWHyxKrAC40l1taYKffb8quRCAAiYmJ8hjW1n6D0a4upxKPv2aZjEJrevCALHa7UUQMjgJcevq0uMPeXmzx+43sKsQjEsF/rlwxPGB5NLLZ2goGi273JCYSXt21/JEj9DlXq8xBFkX09uZNFOCoh4HtsLeXWvi8EsWYWV2l2MgIKq9ebRDU10+1zs+fK6yJer2tUjz+EjOZOt1CO3QI6txuSM7Ngfz8uSkVhQ15vWDduxeS4+OgFsGL3yyWJNhsu53B4KKx7o3H04crK2MstnEU54sFUvW4Fp5QhQ1LQ9DYePGLUGjjuNZb1OMZYpJrkMuVfvvUG03UDZHdPvzl9LT5wtHbT15vH8TjdzCVqoP/0KimRshy6atgsPqVqbcffb5WKZO5AYmEB9bWtr70rVaNAxoCi2WgbWrq45d+aYv4fE6ZqBvS6Q7IZnfxkVL8bZGkZVDVCIOGWfP7X09OVv1t+QB+he4vLgdhMQAAAABJRU5ErkJggg==";function O(g,A){return d("delete","/",{data:{id:g}}).then((function(g){A.setMap(null)})).catch(console.log)}var m=function(g,A){var I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";A.forEach((function(A){var C=new window.google.maps.Circle({strokeColor:I===A.email?"purple":"green",strokeOpacity:.8,strokeWeight:1,fillColor:"green",fillOpacity:.35,map:g,center:{lat:A.lat,lng:A.lng},radius:100});if(A.info){var e=new window.google.maps.InfoWindow({content:A.info,position:{lat:A.lat,lng:A.lng}});C.addListener("click",(function(){e.open(g,C)}))}A.email===I&&C.addListener("click",(function(){var I=new window.google.maps.Marker({position:{lat:A.lat+65e-5,lng:A.lng+65e-5},map:g,title:"undo circle",icon:f});I.addListener("click",(function(){alert("Deleted"),O(A.id,C),I.setMap(null)})),g.addListener("dragstart",(function(){I.setMap(null)}))}))}))};var h=function(g,A,I){g.current=new window.google.maps.Marker({position:A,map:I,title:"You are here",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAiXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjadY7LDcMwDEPvmiIjUB9L1jhFkADdoONHjl0EPfQdSEoQCNHxeZ+0DRhG1qJ7uqOwtJRXhY6JAizg4aWT5cqVpMY1k8oMnj1gz6EZfmjq3c+wCG+++y7VLofqrayg+2qUjVfyKWL5fvVnv6AL9Ags2Tki1IsAAAoCaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iMTgiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSIxOCIKICAgdGlmZjpJbWFnZVdpZHRoPSIxOCIKICAgdGlmZjpJbWFnZUhlaWdodD0iMTgiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiLz4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pp/dkwwAAAAEc0JJVAgICAh8CGSIAAABWklEQVQ4y63Tv0tbURQH8E9KMyaFKB2DAcW6i/4FXdK1g9pis3QT6lKI4Oigm1OnFtqhPxwzOro4uIh0CF0fAUmwb9HJZ7FDTyENyUsKuXB4l+/53u8793vuYUqrsPauk0tI0uxjbBt5vAfTqujhiCpK2MY6ngS8gq84xPXYipI0W8QFmjjBq4iTwC6wmCuUpFkZx7jBErbwPWIrsJvglPMqeosZ1PEIbZxHtAOrYza4I4Ve4gO6aGGhL7cQWBfvg/uv2dHiAuZwimXUhvShFrlTvMEn3KPRX1Ehvnejutn3818DZ/5crVopNqqV4iY6WMUZLoeIXEZuJbibfx/qoEff8BolPEevL9cLrBScozyzD3Abpv4Iz55G1AJrBWd/pFC1UrzCM8zHoR0UI5qBzQfnauzQJmn2GLvYiHcFP/EFewNXnnj6P8f2xX8P7cDKJpr+JB3La0wi9BvGtVymyC4lQAAAAABJRU5ErkJggg=="})};var v=Object(o.b)((function(g){return{user:g.user}}))((function(g){var A=Object(C.useState)(!1),I=Object(l.a)(A,2),e=I[0],t=I[1],n=Object(C.useRef)(null),o=Object(C.useRef)(null),i=Object(C.useRef)({}),c=Object(C.useRef)(null);return Object(C.useEffect)((function(){var A=new u.a({apiKey:g.apiKey||"AIzaSyDit4G0bMDP54KRwVqRTzvFtFGMNPRt_mo",version:"weekly",libraries:["places"]});g.initLocation&&0!==g.initLocation.lat&&A.load().then((function(){i.current=new window.google.maps.Map(n.current,{zoom:16,center:g.initLocation,scaleControl:!1,streetViewControl:!1,rotateControl:!1,mapTypeControl:!1}),i.current.controls[window.google.maps.ControlPosition.RIGHT_BOTTOM].push(o.current),h(c,g.initLocation,i.current),m(i.current,g.cityList,g.user),t(!0)})).catch(console.log).then((function(){d("get","/").then((function(A){g.setCityList(A.response)})).catch(console.log)})).catch(console.log)}),[g.initLocation]),Object(C.useEffect)((function(){i.current.setCenter&&m(i.current,g.cityList,g.user)}),[g.cityList]),Object(C.useEffect)((function(){c.current&&(c.current.setMap(null),h(c,g.locationState,i.current))}),[g.locationState]),Object(r.jsx)("div",{style:g.style||{width:"100vw",height:"100vh"},ref:n,children:Object(r.jsx)("div",{ref:o,style:{backgroundColor:"#fff",border:"2px solid #fff",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0,0,0,.3)",cursor:"pointer",marginBottom:"22px",textAlign:"center",marginRight:"10px",top:"null",display:e?"block":"none"},onClick:function(){i.current.setCenter(g.locationState)},children:Object(r.jsx)("div",{style:{color:"rgb(25,25,25)",fontFamily:"Roboto,Arial,sans-serif",fontSize:"24px",lineHeight:"36px",paddingLeft:"9px",paddingRight:"9px"},children:Object(r.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAiXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjadY7LDcMwDEPvmiIjUB9L1jhFkADdoONHjl0EPfQdSEoQCNHxeZ+0DRhG1qJ7uqOwtJRXhY6JAizg4aWT5cqVpMY1k8oMnj1gz6EZfmjq3c+wCG+++y7VLofqrayg+2qUjVfyKWL5fvVnv6AL9Ags2Tki1IsAAAoCaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iMTgiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSIxOCIKICAgdGlmZjpJbWFnZVdpZHRoPSIxOCIKICAgdGlmZjpJbWFnZUhlaWdodD0iMTgiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiLz4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pp/dkwwAAAAEc0JJVAgICAh8CGSIAAABX0lEQVQ4y63UvUscURQF8J+ylqvFipAiIQuKClNKivQ2pk1jImjjVgumCShIiiBM7PwDEtAiH5aWlja2QRTEShiLoJjKrRJFm1usw8y4ghcuPM4978yd8+57PFH0PURotVqbsVyo4tVer51WK2VpTx3VisAkS+v4gFlMBPwKP7GBq/ye/gKRcRxgGXuYj9wL7ADjlUJJlg5iFx1Moo3DyHZgneAMVnX0EQ3MYAjH+B15HNgMhoNbKjSHbzjHDsa6amOBneNrcO+bnWTpZozCS+xjCs2Cc2hGbR9L2MItFvoLZuq67DS7Pn6Tn8O+7jlKsvQMP/AJp3iWE/kTXX3GOzwv8+gXFlHHW1x01S4Cqwdnu8rsdfwLU0/Cs+nIZmA7wflSKnT0YuUSbzAam1YwELkc2GhwLu9d2qK7lmTpCFbDh0bAf8O/tdwvlwvlRL/H8v2jL20u/vf0Hj34jPQYd/nzVO7wvDg/AAAAAElFTkSuQmCC",alt:""})})})})}));var x=Object(o.b)((function(g){return{isLogin:g.isLogin}}))((function(g){var A=Object(C.useState)([]),I=Object(l.a)(A,2),e=I[0],t=I[1],n=Object(C.useState)({lat:0,lng:0}),o=Object(l.a)(n,2),i=o[0],c=o[1],s=Object(C.useState)({lat:0,lng:0}),u=Object(l.a)(s,2),b=u[0],j=u[1],p=Object(C.useState)(!1),f=Object(l.a)(p,2),O=f[0],m=f[1],h=Object(C.useRef)(""),x=Object(C.useRef)(0);Object(C.useEffect)((function(){navigator.userAgent.toLowerCase().includes("android")&&navigator.userAgent.toLowerCase().includes("firefox")&&alert("firefox mobile browser has a geolocation service issue, please use other browsers to avoid location issues")}),[]),Object(C.useEffect)((function(){return navigator.geolocation.getCurrentPosition((function(g){c({lat:g.coords.latitude,lng:g.coords.longitude}),j({lat:g.coords.latitude,lng:g.coords.longitude})}),(function(g){return console.log("getCurrentPosition error occour ",g)}),{timeout:15e3}),x.current=navigator.geolocation.watchPosition((function(g){j({lat:g.coords.latitude,lng:g.coords.longitude})}),(function(g){return console.log("watchPosition error occour ",g)}),{timeout:15e3}),function(){navigator.geolocation.clearWatch(x.current)}}),[]);var L={width:"100vw",height:"70vh"};return g.isLogin?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(v,{initLocation:i,cityList:e,apiKey:"AIzaSyAY7E2bHE_GLWj5hgEZ-_06xFkYg5OPllY",style:L,setCityList:t,locationState:b}),Object(r.jsxs)("div",{style:{marginTop:"15px"},children:[Object(r.jsx)("label",{htmlFor:"info",children:"add info: "}),Object(r.jsx)("input",{type:"text",id:"info",ref:h}),Object(r.jsx)("button",{onClick:function(){setTimeout((function(){m(!1)}),15e3);var g={id:Date.now(),lat:b.lat,lng:b.lng,info:h.current.value,token:localStorage.getItem("token")};return O?alert("You cannot send request immediately"):(m(!0),d("post","/",g).then((function(g){if("accepted"===g.status)return h.current.value="",t([].concat(Object(a.a)(e),[g.response]));alert(g.info)})).catch((function(g){return console.log("submit error",g)})))},children:"submit"})]})]}):Object(r.jsx)(v,{initLocation:i,cityList:e,apiKey:"AIzaSyAY7E2bHE_GLWj5hgEZ-_06xFkYg5OPllY",style:L,setCityList:t,locationState:b})}));var L=function(g){return Object(r.jsxs)(r.Fragment,{children:["HomePage",Object(r.jsx)(x,{})]})};var w=function(){var g=Object(C.useRef)(""),A=Object(C.useRef)(""),I=Object(C.useRef)("");return Object(r.jsxs)(r.Fragment,{children:["SignupPage",Object(r.jsxs)("form",{children:[Object(r.jsx)("label",{htmlFor:"name",children:"name: "}),Object(r.jsx)("input",{type:"text",id:"name",ref:g}),Object(r.jsx)("label",{htmlFor:"email",children:"email: "}),Object(r.jsx)("input",{type:"email",id:"email",ref:I}),Object(r.jsx)("label",{htmlFor:"password",children:"password: "}),Object(r.jsx)("input",{type:"password",id:"password",ref:A}),Object(r.jsx)("button",{type:"submit",onClick:function(C){return function(C){C.preventDefault(),d("post","/user/isValid",{id:Date.now(),name:g.current.value,password:A.current.value,email:I.current.value}).then(console.log).catch(console.log)}(C)},children:"submit"})]})]})},y=function(g){return{type:"SET_LOGIN",payload:g}},R=function(g){return{type:"SET_USER",payload:g}};var S=Object(o.b)((function(g){return{isLogin:g.isLogin}}),{setLogin:y,setUser:R})((function(g){var A=Object(C.useRef)(""),I=Object(C.useRef)(""),e=Object(C.useState)({}),t=Object(l.a)(e,2),n=(t[0],t[1]);return g.isLogin?Object(r.jsx)(c.a,{to:"/"}):Object(r.jsxs)(r.Fragment,{children:["LoginPage",Object(r.jsxs)("form",{children:[Object(r.jsx)("label",{htmlFor:"email",children:"email: "}),Object(r.jsx)("input",{type:"email",id:"email",ref:I}),Object(r.jsx)("label",{htmlFor:"password",children:"password: "}),Object(r.jsx)("input",{type:"password",id:"password",ref:A}),Object(r.jsx)("button",{type:"submit",onClick:function(C){return function(C){C.preventDefault(),d("post","/user/login",{password:A.current.value,email:I.current.value}).then((function(A){"accepted"===A.status&&(n(A),g.setUser(A.response.payload.email),g.setLogin(!0),localStorage.removeItem("token"),localStorage.setItem("token",A.response.token),console.log(A.response.token))})).catch(console.log)}(C)},children:"submit"})]})]})}));var E=Object(o.b)((function(g){return{isLogin:g.isLogin}}),{setLogin:y,setUser:R})((function(g){return Object(C.useEffect)((function(){return g.setLogin(!1),function(){localStorage.removeItem("token"),g.setUser("")}}),[]),console.log(g.isLogin),g.isLogin?Object(r.jsx)(r.Fragment,{}):Object(r.jsx)(c.a,{to:"/login"})}));var G=function(){return Object(r.jsxs)(i.a,{children:[Object(r.jsx)(s,{}),Object(r.jsxs)(c.d,{children:[Object(r.jsx)(c.b,{exact:!0,path:"/",component:L}),Object(r.jsx)(c.b,{path:"/signup",component:w}),Object(r.jsx)(c.b,{path:"/login",component:S}),Object(r.jsx)(c.b,{path:"/logout",component:E})]})]})};var Y=Object(o.b)(null,{setLogin:y,setUser:R})((function(g){var A=localStorage.getItem("token")||"token";return Object(C.useEffect)((function(){d("post","/user/isLogin",{token:A}).then((function(A){"accepted"===A.status&&(g.setLogin(!0),g.setUser(A.response.email))})).catch(console.log)}),[]),Object(r.jsx)(G,{})})),Z=I(23),M=I(33),V=I(15),W=function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,A=arguments.length>1?arguments[1]:void 0;switch(A.type){case"SET_LOGIN":return Object(V.a)(Object(V.a)({},g),{},{isLogin:A.payload});case"SET_USER":return Object(V.a)(Object(V.a)({},g),{},{user:A.payload});default:return g}},P=function(g){g&&g instanceof Function&&I.e(3).then(I.bind(null,66)).then((function(A){var I=A.getCLS,C=A.getFID,e=A.getFCP,t=A.getLCP,n=A.getTTFB;I(g),C(g),e(g),t(g),n(g)}))},F=Object(Z.b)(W,Object(Z.a)(M.a));n.a.render(Object(r.jsx)(e.a.StrictMode,{children:Object(r.jsx)(o.a,{store:F,children:Object(r.jsx)(Y,{})})}),document.getElementById("root")),P()}},[[65,1,2]]]);
//# sourceMappingURL=main.60134de6.chunk.js.map